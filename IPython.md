# IPython jupyter notebook

23/4/17

**You:**

IPython Tab补全

---

**ChatGPT:**

IPython是一个强大的交互式Python shell，支持Tab补全来提高代码编写效率。IPython的Tab补全可以自动完成函数、方法、变量等的名称，并可以显示这些对象的文档字符串以及可用的属性和方法。

要使用IPython的Tab补全功能，请按下Tab键。如果您正在输入一个对象的名称，IPython会自动补全名称。如果有多个匹配项，则可以按Tab键多次来循环浏览可用选项。

如果您想查看对象的文档字符串，可以在对象名称后面添加一个问号(?)并按下Enter键。这将显示对象的文档字符串和其他相关信息。

另外，如果您想查看对象的属性和方法，可以在对象名称后面添加一个点(.)并按下Tab键。这将显示对象的可用属性和方法。您可以使用Tab键或箭头键来浏览选项，并使用Enter键来选择一个选项。

如果您想查看对象的源代码，可以在对象名称后面添加两个问号(??)并按下Enter键。这将显示对象的源代码，如果源代码可用的话。

---

**You:**

内省

---

**ChatGPT:**

内省（introspection）是指在运行时检查对象的属性、方法、类型等信息的能力。在Python中，有许多内置函数和特殊方法可以用于内省对象。

以下是一些Python中用于内省的函数和方法：

- type(object): 返回对象的类型。
- dir(\[object\]): 返回对象的属性和方法列表。如果不指定对象，则返回当前作用域内的变量、方法和类的列表。
- help(\[object\]): 显示对象的帮助文档，或显示Python帮助系统的主题列表。如果不指定对象，则显示Python帮助系统的帮助文档。
- vars(\[object\]): 返回对象的属性和属性值的字典。如果不指定对象，则返回当前作用域内的变量、方法和类的字典。
- isinstance(object, classinfo): 检查对象是否是指定类或其子类的实例。classinfo可以是一个类对象、类型对象或类型元组。
- issubclass(class, classinfo): 检查一个类是否是另一个类或其子类的派生类。classinfo可以是一个类对象、类型对象或类型元组。

Python中的内省功能非常强大，可以帮助开发人员了解代码中的对象及其属性和方法，并在调试和优化代码时提供有用的信息。

---

**You:**

IPython使用？？显示

---

**ChatGPT:**

在IPython中，使用`??`来显示一个函数或方法的源代码，如果源代码是可用的话。

当您输入一个对象的名称，并使用`??`来调用它时，IPython会尝试获取该对象的源代码，并在新窗口中显示该代码。如果对象的源代码不可用，则IPython会尝试获取对象的帮助文档。

例如，假设您想要查看Python内置的`sum`函数的源代码，可以在IPython中输入以下命令：

```
sum??

```

这将显示`sum`函数的源代码，如果源代码可用的话。如果源代码不可用，IPython会显示`sum`函数的帮助文档。

请注意，`??`只能显示Python代码中定义的函数和方法的源代码。对于Cython、C或其他编译语言编写的函数和方法，`??`将无法显示其源代码。

---

**You:**

%run

---

**ChatGPT:**

在IPython中，`%run`是一个魔法命令，用于运行Python脚本文件。

使用`%run`命令，可以在IPython会话中运行一个Python脚本文件。要运行脚本文件，只需在IPython提示符后输入以下命令：

```
%run script.py

```

这将运行名为`script.py`的Python脚本文件，并在IPython会话中显示输出结果。您还可以在命令行参数中传递参数，例如：

```
%run script.py arg1 arg2

```

这将运行名为`script.py`的Python脚本文件，并将`arg1`和`arg2`作为命令行参数传递给脚本。

另外，您还可以使用`-i`选项来在IPython会话中保持脚本的上下文环境：

```
%run -i script.py

```

这将运行名为`script.py`的Python脚本文件，并在IPython会话中保持脚本的上下文环境，以便您可以与脚本中定义的对象进行交互。

---

**You:**

%load

---

**ChatGPT:**

在IPython中，`%load`是一个魔法命令，用于从文件中加载代码到单元格中。

使用`%load`命令，可以将代码从文件中加载到单元格中，以便您可以编辑和运行该代码。要使用`%load`命令，只需在单元格中输入以下命令：

```
%load filename.py

```

其中，`filename.py`是包含要加载的代码的文件名。在运行该命令后，IPython将在单元格中加载`filename.py`文件中的代码。

请注意，在IPython中，`%load`命令将不会自动保存您编辑的代码。如果您想保存编辑后的代码，必须手动将其复制并粘贴到一个新的文件中，并将其保存到磁盘上。

---

**You:**

%paste

---

**ChatGPT:**

在IPython中，`%paste`是一个魔法命令，用于将剪贴板中的文本粘贴到当前单元格中。

使用`%paste`命令，可以将剪贴板中的文本粘贴到当前单元格中，以便您可以编辑和运行该代码。要使用`%paste`命令，只需将文本复制到剪贴板中，并在单元格中输入以下命令：

```
%paste

```

在运行该命令后，IPython将自动将剪贴板中的文本粘贴到当前单元格中，并执行该代码。

请注意，`%paste`命令将自动调整粘贴的文本的缩进。如果您想使用自己的缩进，可以使用`%cpaste`命令，该命令将启用一个特殊的交互式模式，以便您可以在单元格中插入自己的缩进。

---

**You:**

%timeit

---

**ChatGPT:**

在IPython中，`%timeit`是一个魔法命令，用于在多次运行后测量代码的执行时间。

使用`%timeit`命令，可以测量Python代码的执行时间，并报告该代码的平均执行时间和标准差。要使用`%timeit`命令，只需在IPython中输入以下命令：

```
%timeit statement

```

其中，`statement`是要测试的Python代码。在运行该命令后，IPython将多次运行`statement`代码，并测量每次运行的执行时间。然后，它将报告平均执行时间和标准差。

请注意，`%timeit`命令将自动选择最佳的运行次数和循环次数，以最大程度地减少测量误差。如果您想指定运行次数和循环次数，请使用以下命令：

```
%timeit -r [runs] -n [loops] statement

```

其中，`[runs]`是要运行的次数，`[loops]`是每次运行要循环的次数。

另外，如果您只想测量一次代码的执行时间，可以使用`%time`命令。

---

**You:**

IPython常用魔术命令

---

**ChatGPT:**

以下是一些常用的IPython魔法命令：

1. `%run`: 运行Python脚本文件。
2. `%load`: 从文件中加载代码到单元格中。
3. `%paste`: 将剪贴板中的文本粘贴到当前单元格中。
4. `%timeit`: 测量代码的执行时间。
5. `%time`: 测量单次代码的执行时间。
6. `%whos`: 显示当前命名空间中的变量和它们的值。
7. `%history`: 显示IPython会话中的历史命令。
8. `%reset`: 删除当前命名空间中的所有变量。
9. `%matplotlib`: 配置Matplotlib绘图库的行为。
10. `%debug`: 在代码中设置断点，以便调试代码。

除了这些命令之外，还有许多其他有用的IPython魔法命令可用。您可以通过在IPython提示符下输入`%lsmagic`命令来列出所有可用的魔法命令。